---
title: 滚动条在不滚动时自动隐藏，滚动时自动显示
tags:
  - 教程
  - Hexo
  - 主题
  - butterfly
categories: Butterfly魔改
keywords: 'hexo,butterfly,主题,doc,教程,文档'
abbrlink: a908a066
---

博客的滚动条有个问题，就是点搜索的时候网页会有一定的偏移。这个问题是由于滚动条占用了DOM，导致当不能滚动的情况下，滚动条不显示导致整体网页会鬼畜一下。其实只要一条css就能搞定。

## 引入 css

新建一个 css 文件，然后再 butterfly 主题下的 _config.yml 文件中 inject 引入该文件

``` css
/* 滚动条 */
*::-webkit-scrollbar{
  width: 8px;
  height: 8px;
}
 
*::-webkit-scrollbar-thumb{
  background: var(gray);
  border-radius: 8px;
  cursor:pointer;
}

*::-webkit-scrollbar-thumb:hover{
  opacity: 1;
  display: block!important;
}

*::-webkit-scrollbar-track{
  background-color: transparent;
}

html {
  overflow-y: overlay;
}
```

## 引入 js

新建一个 js 文件，然后再 butterfly 主题下的 _config.yml 文件中 inject 引入该文件

``` js
//滚动条自动隐藏
var t1 = 0;
var t2 = 0;
var timer = null; 
document.styleSheets[0].addRule('*::-webkit-scrollbar-thumb','display:none;');

// scroll监听
document.onscroll = function() {
  clearTimeout(timer);
  timer = setTimeout(isScrollEnd, 1000);
  t1 = document.documentElement.scrollTop || document.body.scrollTop;
  document.styleSheets[0].addRule('*::-webkit-scrollbar-thumb','display:block;');
}

function isScrollEnd() {
  t2 = document.documentElement.scrollTop || document.body.scrollTop;
  if(t2 == t1){
    document.styleSheets[0].addRule('*::-webkit-scrollbar-thumb','display:none;');
  }
}
```